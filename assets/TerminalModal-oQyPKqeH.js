import{r,j as e,g as S,i as E,k as C,e as I}from"./index-8fFcgtCJ.js";const T=({onExecute:n,history:s})=>{const[a,t]=r.useState(""),[c,l]=r.useState(null),o=r.useRef(null);r.useEffect(()=>{o.current?.focus()},[]);const m=()=>{setTimeout(()=>o.current?.focus(),100)},p=i=>{if(i.key==="Enter")a.trim()&&(n(a),t(""),l(null));else if(i.key==="ArrowUp"){if(i.preventDefault(),s.length===0)return;const x=c===null?s.length-1:Math.max(0,c-1);l(x),t(s[x])}else if(i.key==="ArrowDown"){if(i.preventDefault(),c===null)return;const x=c+1;x>=s.length?(l(null),t("")):(l(x),t(s[x]))}};return e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx("span",{className:"text-blue-400 font-bold mr-2",children:"‚ûú"}),e.jsx("span",{className:"text-cyan-400 font-bold mr-2",children:"~"}),e.jsx("input",{ref:o,type:"text",value:a,onChange:i=>t(i.target.value),onKeyDown:p,onBlur:m,className:"flex-1 bg-transparent border-none outline-none text-gray-100 font-mono placeholder-gray-600",autoComplete:"off",autoCapitalize:"off",spellCheck:"false"})]})},R=({onExit:n})=>{const s=r.useRef(null);return r.useEffect(()=>{const a=s.current;if(!a)return;const t=a.getContext("2d");if(!t)return;a.width=window.innerWidth,a.height=window.innerHeight;const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()",l=14,o=a.width/l,m=[];for(let d=0;d<o;d++)m[d]=1;const i=setInterval(()=>{t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,a.width,a.height),t.fillStyle="#0F0",t.font=`${l}px monospace`;for(let d=0;d<m.length;d++){const j=c.charAt(Math.floor(Math.random()*c.length));t.fillText(j,d*l,m[d]*l),m[d]*l>a.height&&Math.random()>.975&&(m[d]=0),m[d]++}},33),x=()=>{a.width=window.innerWidth,a.height=window.innerHeight};return window.addEventListener("resize",x),()=>{clearInterval(i),window.removeEventListener("resize",x)}},[]),e.jsxs("div",{className:"absolute inset-0 z-50 bg-black overflow-hidden",onClick:n,children:[e.jsx("canvas",{ref:s,className:"block"}),e.jsx("div",{className:"absolute top-4 right-4 text-green-500 font-mono text-xs bg-black/50 p-2 rounded border border-green-900 animate-pulse pointer-events-none",children:"Click to exit"})]})},L=({city:n})=>{const[s,a]=r.useState(null),[t,c]=r.useState(null);if(r.useEffect(()=>{(async()=>{try{const p=await fetch(`https://wttr.in/${n}?format=j1`);if(!p.ok)throw new Error("City not found");const i=await p.json();a(i)}catch{c("Error connecting to weather satellite.")}})()},[n]),t)return e.jsx("span",{className:"text-red-400",children:t});if(!s)return e.jsxs("span",{className:"text-yellow-400 animate-pulse",children:["üì° Triangulating weather data for ",n,"..."]});const l=s.current_condition[0],o=s.nearest_area[0];return e.jsx("div",{className:"bg-blue-900/20 border-l-4 border-blue-500 p-3 my-2 font-mono text-sm max-w-md",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-blue-300 font-bold text-lg",children:[o.areaName[0].value,", ",o.country[0].value]}),e.jsxs("p",{className:"text-white text-2xl font-bold mt-1",children:[l.temp_C,"¬∞C",e.jsxs("span",{className:"text-sm text-gray-400 ml-2 font-normal",children:["(",l.temp_F,"¬∞F)"]})]}),e.jsx("p",{className:"text-blue-200",children:l.weatherDesc[0].value})]}),e.jsxs("div",{className:"text-right text-xs text-gray-400 space-y-1",children:[e.jsxs("p",{children:["Humidity: ",e.jsxs("span",{className:"text-white",children:[l.humidity,"%"]})]}),e.jsxs("p",{children:["Wind:"," ",e.jsxs("span",{className:"text-white",children:[l.windspeedKmph," km/h"]})]}),e.jsxs("p",{children:["Feels: ",e.jsxs("span",{className:"text-white",children:[l.FeelsLikeC,"¬∞C"]})]})]})]})})},W=()=>{const[n,s]=r.useState(null),[a,t]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const o=await(await fetch("https://official-joke-api.appspot.com/jokes/programming/random")).json();s(o[0])}catch{s({setup:"Why did the fetch fail?",punchline:"Because there was no internet connection."})}finally{t(!1)}})()},[]),a?e.jsx("span",{className:"text-gray-500",children:"ü§î Thinking..."}):e.jsxs("div",{className:"my-2 pl-2 border-l-2 border-orange-400 text-orange-200 italic",children:[e.jsxs("p",{children:['"',n?.setup,'"']}),e.jsxs("p",{className:"font-bold text-orange-400 mt-1",children:["üëâ ",n?.punchline," üòÇ"]})]})},D=()=>{const[n,s]=r.useState(null),[a,t]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const o=await(await fetch("https://api.quotable.io/random?tags=technology,wisdom")).json();s(o)}catch{s({content:"Code never lies, comments sometimes do.",author:"Unknown"})}finally{t(!1)}})()},[]),a?e.jsx("span",{className:"text-gray-500",children:"üìñ Opening book..."}):e.jsxs("div",{className:"my-2 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsxs("p",{className:"text-gray-300 font-serif text-lg",children:["‚Äú",n?.content,"‚Äù"]}),e.jsxs("p",{className:"text-right text-sm text-green-400 mt-2",children:["‚Äî ",n?.author]})]})},A=`
    _     _       _   _____                
   | |   (_)     | | |_   _|               
   | |    _ _ __ | | __| | _ __ ___  ___  
   | |   | | '_ \\| |/ /| || '__/ _ \\/ _ \\ 
   | |___| | | | |   < | || | |  __/  __/ 
   \\_____/_|_| |_|_|\\_\\___/_|  \\___|\\___| 
`,b={"readme.txt":"Welcome to Yordis OS. This is a portfolio running on React.","secret.txt":"404 Secret Not Found. Keep looking! üïµÔ∏è‚Äç‚ôÇÔ∏è","contact.md":"Run 'contact' command to see my details.","passwords.txt":"nice_try_admin123"},M={help:()=>({output:e.jsxs("div",{className:"text-gray-300",children:[e.jsx("p",{className:"mb-2 text-green-400 font-bold",children:"Available commands:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"whoami"})," - Info usuario"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"neofetch"})," - Info sistema"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"social"})," - Redes sociales"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"projects"})," - Proyectos"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"contact"})," - Contacto"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"theme"})," - Cambiar tema"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"matrix"})," - Entrar a la Matrix"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"joke"})," - Chiste dev"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"quote"})," - Frase c√©lebre"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"weather [city]"})," - Ver Clima"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"cat"})," - Leer archivo"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"clear"})," - Limpiar"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-mono",children:"exit"})," - Salir"]})]})]})}),joke:()=>({output:e.jsx(W,{})}),quote:()=>({output:e.jsx(D,{})}),weather:n=>{const s=n.join(" ")||"Caracas";return{output:e.jsx(L,{city:s})}},matrix:()=>({output:e.jsx("span",{className:"text-green-500",children:"Initializing virtual reality construct..."}),action:"matrix"}),pepsi:(n,{currentThemeId:s})=>s==="pepsi"?{output:e.jsx("span",{className:"text-blue-500 font-bold animate-pulse",children:"PEPSIMAN!!! üèÉüí® STARTING GAME SEQUENCE..."}),action:"start-game"}:{output:e.jsx("span",{className:"text-red-400",children:"zsh: command not found: pepsiman"})},whoami:(n,{profile:s})=>({output:s?e.jsxs("div",{className:"text-blue-300",children:[e.jsxs("p",{children:["User: ",e.jsx("span",{className:"text-green-400",children:s.username})]}),e.jsxs("p",{children:["Role:"," ",e.jsx("span",{className:"text-purple-400",children:"Admin / FullStack Developer"})]}),e.jsxs("p",{className:"italic mt-1 text-gray-400",children:['"',s.bio,'"']})]}):"Error: No profile loaded."}),social:(n,{profile:s})=>{if(!s?.links)return{output:"No links found."};const a=s.links.filter(t=>t.type!=="embed"&&!["email","phone","whatsapp","telegram"].includes(t.id));return{output:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:a.map(t=>e.jsxs("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-cyan-400 hover:underline",children:["‚ûú ","title"in t?t.title:t.id]},t.id))})}},contact:(n,{profile:s})=>{if(!s?.links)return{output:"No contact info."};const a=s.links.filter(t=>["discord","telegram"].includes(t.id)||t.url.startsWith("mailto:")||t.url.startsWith("tel:"));return{output:e.jsx("div",{className:"flex flex-col gap-1",children:a.map(t=>e.jsxs("div",{children:[e.jsxs("span",{className:"text-yellow-400 w-20 inline-block",children:["title"in t?t.title:t.id,":"]}),e.jsx("a",{href:t.url,className:"text-white hover:underline",children:t.url.replace("mailto:","").replace("tel:","")})]},t.id))})}},projects:(n,{profile:s})=>{if(!s?.links)return{output:"No projects found."};const a=s.links.filter(t=>t.type==="embed"&&(t.provider==="github"||t.provider==="codepen")||t.type==="rectangular"||t.id.includes("project"));return{output:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Proyectos destacados:"}),a.map(t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-500",children:"‚òÖ"}),e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-green-400 hover:underline font-bold",children:"title"in t?t.title:t.id}),e.jsxs("span",{className:"text-gray-600 text-xs",children:["(",t.type,")"]})]},t.id))]})}},cat:n=>{if(n.length===0)return{output:"Usage: cat <filename>. Try 'ls' to see files."};const s=n[0],a=b[s];return a?{output:e.jsx("span",{className:"text-white",children:a})}:{output:e.jsxs("span",{className:"text-red-400",children:["cat: ",s,": No such file or directory"]})}},ls:()=>({output:e.jsx("div",{className:"flex gap-4 text-blue-300",children:Object.keys(b).map(n=>e.jsx("span",{children:n},n))})}),theme:(n,{availableThemes:s,setTheme:a})=>{if(n.length===0||n[0]==="list")return{output:e.jsxs("div",{children:[e.jsxs("p",{children:["Usage: ",e.jsx("span",{className:"text-yellow-400",children:"theme <name>"})," ","to apply."]}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Available themes (from index):"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map(l=>e.jsx("span",{className:"bg-gray-800 px-2 py-0.5 rounded text-xs text-white border border-gray-600 hover:border-green-400 cursor-default",children:l.id},l.id))})]})};const t=n[0].toLowerCase();return s.find(l=>l.id===t)?(a(t),{output:e.jsxs("span",{className:"text-green-500",children:['‚úî Theme changed to "',t,'" successfully.']})}):{output:e.jsxs("span",{className:"text-red-500",children:['‚úò Theme "',t,`" not found. Try 'theme list'.`]})}},user:(n,{navigate:s})=>{if(n.length===0)return{output:e.jsxs("div",{children:[e.jsxs("p",{children:["Usage:"," ",e.jsx("span",{className:"text-yellow-400",children:"user <username>"})]}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Known users:"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("span",{className:"text-cyan-400",children:"yordisc"}),e.jsx("span",{className:"text-cyan-400",children:"jose"}),e.jsx("span",{className:"text-cyan-400",children:"maria"})]})]})};const a=n[0].toLowerCase();return setTimeout(()=>{s(`/${a}`)},500),{output:e.jsxs("span",{className:"text-yellow-400",children:["‚ö° Switching to user profile: ",a,"..."]})}},neofetch:(n,{profile:s})=>({output:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 font-mono text-sm my-2",children:[e.jsx("pre",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500 font-bold hidden sm:block select-none leading-none",children:A}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-green-400",children:"user"}),"@",e.jsx("span",{className:"text-green-400",children:"linktree"})]}),e.jsx("p",{className:"text-gray-500",children:"----------------"}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"OS"}),": ReactOS Web v2.1"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Host"}),": GitHub Pages"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Kernel"}),": Vite 5.x"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Uptime"}),": Forever"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Packages"}),":"," ",s?.links?.length||0," (active links)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-yellow-400",children:"Shell"}),": ZSH (Simulated)"]}),e.jsxs("div",{className:"flex gap-1 mt-2",children:[e.jsx("div",{className:"w-3 h-3 bg-black"}),e.jsx("div",{className:"w-3 h-3 bg-red-500"}),e.jsx("div",{className:"w-3 h-3 bg-green-500"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 bg-blue-500"}),e.jsx("div",{className:"w-3 h-3 bg-purple-500"}),e.jsx("div",{className:"w-3 h-3 bg-cyan-500"}),e.jsx("div",{className:"w-3 h-3 bg-white"})]})]})]})}),date:()=>({output:new Date().toString()}),clear:()=>({output:"",action:"clear"}),exit:()=>({output:"Goodbye!",action:"exit"}),sudo:()=>({output:e.jsx("span",{className:"text-red-500 font-bold blink",children:"PERMISSION DENIED: Nice try! üîí"})})},F=({onClose:n})=>{const{username:s}=S(),a=E(),{profile:t}=C(s),{themes:c,availableThemes:l,setSelectedTheme:o,currentThemeId:m}=I(),[p,i]=r.useState(!1),[x,d]=r.useState([e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-green-400",children:"Welcome to LinkTree-ZSH v2.1"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-400",children:'Type "help" to see available commands.'})]},"init")]),j=r.useRef(null);r.useEffect(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[x]);const v=h=>{if(!h.trim())return;const g=h.trim().split(/\s+/),w=g[0].toLowerCase(),_=g.slice(1),N=Date.now(),k=e.jsxs("div",{className:"mb-1 mt-2",children:[e.jsx("span",{className:"text-blue-400 font-bold mr-2",children:"‚ûú"}),e.jsx("span",{className:"text-cyan-400 font-bold mr-2",children:"~"}),e.jsx("span",{className:"text-white",children:h})]},`cmd-${N}`),y=M[w];let f;if(y)try{const u=y(_,{profile:t,themes:c,availableThemes:l,setTheme:o,navigate:a,currentThemeId:m});if(u.action==="clear"){d([]);return}if(u.action==="exit"){n();return}u.action==="matrix"&&i(!0),u.action==="start-game"&&setTimeout(()=>{n(),window.dispatchEvent(new CustomEvent("startPepsimanGame"))},1500),typeof u.output=="object"&&u.output!==null?f=e.jsx("div",{children:u.output},`res-${N}`):f=u.output}catch{f=e.jsx("span",{className:"text-red-500",children:"Error executing command."},`err-${N}`)}else f=e.jsxs("span",{className:"text-red-400",children:["zsh: command not found: ",w]},`404-${N}`);d(u=>[...u,k,f])};return e.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in zoom-in-95 duration-200",children:[p&&e.jsx("div",{className:"absolute inset-0 z-[10000] overflow-hidden rounded-lg",children:e.jsx(R,{onExit:()=>i(!1)})}),e.jsxs("div",{className:"w-full max-w-3xl h-[80vh] bg-[#1e1e1e] rounded-lg shadow-2xl flex flex-col border border-gray-700 overflow-hidden font-mono text-sm sm:text-base relative",children:[e.jsxs("div",{className:"bg-[#2d2d2d] px-4 py-2 flex items-center justify-between border-b border-gray-700 select-none",children:[e.jsxs("div",{className:"flex gap-2 group",children:[e.jsx("button",{onClick:n,className:"w-3 h-3 rounded-full bg-red-500 hover:bg-red-600 flex items-center justify-center text-black/50 font-bold text-[8px] opacity-80 hover:opacity-100",children:"‚úï"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),e.jsxs("div",{className:"text-gray-400 text-xs font-medium flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"user@",t?.username||"guest",":~"]}),e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-transparent text-gray-100",onClick:()=>{document.querySelector('input[type="text"]')?.focus()},children:[x.map((h,g)=>e.jsx("div",{className:"break-words",children:h},g)),e.jsx(T,{onExecute:v,history:x.filter(h=>typeof h=="string").map(String)}),e.jsx("div",{ref:j})]})]})]})};export{F as TerminalModal};
